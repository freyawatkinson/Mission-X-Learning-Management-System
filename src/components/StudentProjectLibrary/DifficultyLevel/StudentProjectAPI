import React, { useEffect, useState } from "react";
import StudentLibraryImage from "./Student-Project-Library-Image.js";
import { Button, ButtonGroup } from "@material-ui/core";
import { makeStyles } from "@material-ui/styles";
import { Link } from "react-router-dom";

//ScaleGrid Rest API Documentation at https://scalegrid.io/api/#tag/General
//See links to styles in /Difficulty/StudentProjectAPI
const useStyles = makeStyles((theme) => ({
  paper: {
    boxShadow: "none",
    border: "1px solid grey",
    color: "white",
    height: 20,
  },

  textDecoration: {
    textDecoration: "none",
  },
}));

//Function calling Data from Database
function LibraryPicture(props) {
  const [projectData, setProjectData] = useState([]);

  const API = () => {
    const requestURL1 = "URL";

    fetch(requestURL1)
      .then((response) => response.json())
      .then((data) => {
        setProjectData(data);
        console.log(data);
      });
  };

  useEffect(() => {
    API();
  }, []);

  const getBeginnerData = () => {
    const requestURL1 = "Get Begginer data";

    // calls the API with the url 'requestURL2'
    // once we get the response then do something with it
    // * CONSUMER of the promise returned by the Fetch API
    fetch(requestURL1)
      .then((response) => response.json())
      .then((data) => {
        setProjectData(data);
        console.log(data);
      });
  };

  const getIntermediate = () => {
    const requestURL1 = "Get Intermediate data";

    // calls the API with the url 'requestURL2'
    // once we get the response then do something with it
    // * CONSUMER of the promise returned by the Fetch API
    fetch(requestURL1)
      .then((response) => response.json())
      .then((data) => {
        setProjectData(data);
        console.log(data);
      });
  };

  const getAdvanced = () => {
    const requestURL1 = "Get Advanced";

    // calls the API with the url 'requestURL2'
    // once we get the response then do something with it
    // * CONSUMER of the promise returned by the Fetch API
    fetch(requestURL1)
      .then((response) => response.json())
      .then((data) => {
        setProjectData(data);
        console.log(data);
      });
  };
  const classes = useStyles();

  //Buttons from Material UI @ https://material-ui.com/components/buttons/, https://material-ui.com/api/button/, https://material-ui.com/components/button-group/
  return (
    <>
      <div className="SPContainer">
        <div>
          <ButtonGroup size="small" variant="text" className={classes.paper}>
            <Button onClick={() => getBeginnerData()}>BEGINNER</Button>
            <Button onClick={() => getIntermediate()}>INTERMEDIATE</Button>
            <Button onClick={() => getAdvanced()}>ADVANCED</Button>
            <Button onClick={() => API()}>ALL</Button>
          </ButtonGroup>
        </div>

        <div>
          <ButtonGroup
            size="small"
            variant="contained"
            color="primary"
            aria-label="text primary button group"
          >
            <Button className={classes.paper}>25</Button>
            <Button className={classes.paper}>50</Button>
            <Button className={classes.paper}>100</Button>
          </ButtonGroup>
        </div>
      </div>
      <div className="ProjectCards">
        {projectData.map((project) => {
          return (
            <Link className={classes.textDecoration} to={props.path}>
              <StudentLibraryImage
                Image={project.IMGURL}
                Title={project.Title}
                Difficulty={
                  projectData
                    ? `${project.Level} | ${project.ActivityType}`
                    : "Loading"
                }
              />
            </Link>
          );
        })}
      </div>
    </>
  );
}

export default LibraryPicture;
